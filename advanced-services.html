

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Advanced services &mdash; Elassandra Operator Documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://media.readthedocs.org/css/sphinx_rtd_theme.css" type="text/css" />
  <link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/custom.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Security" href="security.html" />
    <link rel="prev" title="Provision a Datacenter" href="provisioning.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Elassandra-Operator
          

          
            
            <img src="_static/elassandra-operator.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="helm-setup.html">HELM setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="operator-setup.html">Operator setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="provisioning.html">Provision a Datacenter</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Advanced services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#managed-keyspaces">Managed Keyspaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#continuous-cassandra-repair">Continuous Cassandra repair</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#address-translation">Address translation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#kibana-visualisation">Kibana visualisation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="operations.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="compute-resources.html">Compute resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="full-setup.html">Full Setup Example</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Elassandra-Operator</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Advanced services</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/advanced-services.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="advanced-services">
<h1>Advanced services<a class="headerlink" href="#advanced-services" title="Permalink to this headline">¶</a></h1>
<div class="section" id="managed-keyspaces">
<h2>Managed Keyspaces<a class="headerlink" href="#managed-keyspaces" title="Permalink to this headline">¶</a></h2>
<p>The Elassandra-Operator can manage Cassandra keyspace replication for you:</p>
<ul class="simple">
<li><p>Create keyspace if not exists, create Cassandra role and setup Cassandra permissions and Elasticsearch privileges.</p></li>
<li><p>Adjust the replication factor and run automatic repair/cleanup when Elassandra nodes are added or removed, or when a datacenter is added or removed.</p></li>
<li><p>Register the keyspace into Cassandra Reaper to schedule continuous repairs.</p></li>
</ul>
<p>Like the <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#dynamic-index-settings">Elasticsearch index.auto_expand_replicas</a>
index settings, the Elassandra-Operator automatically adjust the keyspace replication factor to the desired number of copies and the current number of nodes in the datacenter:</p>
<p>To create a Cassandra role, the Elassandra operator retreives its password in a Kubernetes secret named <code class="docutils literal notranslate"><span class="pre">elassandra-[cluster_name]-keyspace</span></code> by default, with
a secret key equals to the role name or specified by the <code class="docutils literal notranslate"><span class="pre">secretKey</span></code> field, as shown below. Specify a <code class="docutils literal notranslate"><span class="pre">secretName</span></code> to use an alternate Kubernetes secret.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kubectl</span> <span class="n">create</span> <span class="n">secret</span> <span class="n">generic</span> <span class="n">elassandra</span><span class="o">-</span><span class="n">cl1</span><span class="o">-</span><span class="n">keyspaces</span> <span class="o">-</span><span class="n">n</span> <span class="n">mynamespace</span> <span class="o">--</span><span class="n">from</span><span class="o">-</span><span class="n">literal</span><span class="o">=</span><span class="n">gravitee</span><span class="o">=</span><span class="s1">&#39;xxxxxxx&#39;</span>
</pre></div>
</div>
<p>Specify a managed keyspace in your datacenter CRD as shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">managedKeyspaces</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">keyspace</span><span class="p">:</span> <span class="n">gravitee</span>
    <span class="n">rf</span><span class="p">:</span> <span class="mi">3</span>
    <span class="n">role</span><span class="p">:</span> <span class="n">gravitee</span>
    <span class="n">login</span><span class="p">:</span> <span class="n">true</span>
    <span class="n">superuser</span><span class="p">:</span> <span class="n">false</span>
    <span class="n">secretKey</span><span class="p">:</span> <span class="n">gravitee</span>
    <span class="n">repair</span><span class="p">:</span> <span class="n">true</span>
    <span class="n">grantStatements</span><span class="p">:</span>
      <span class="o">-</span> <span class="s2">&quot;GRANT gravitee TO gravitee&quot;</span>
</pre></div>
</div>
<p>Check you keyspace is properly managed in the datacenter status:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">status</span><span class="p">:</span>
  <span class="o">...</span>
  <span class="n">keyspaceManagerStatus</span><span class="p">:</span>
    <span class="n">keyspaces</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">_kibana</span>
    <span class="o">-</span> <span class="n">gravitee</span>
</pre></div>
</div>
</div>
<div class="section" id="continuous-cassandra-repair">
<h2>Continuous Cassandra repair<a class="headerlink" href="#continuous-cassandra-repair" title="Permalink to this headline">¶</a></h2>
<p>In order to ensure data consistency, a continuous cassandra repair can be managed by a <a class="reference external" href="https://http://cassandra-reaper.io/">Cassandra Reaper</a>
instance running on each datacenter. The Elassandra-Operator automatically configure Cassandra Reaper, register the Cassandra cluster and schedule repairs for managed keyspaces.</p>
<p>Here is the datacenter spec to configure kibana deployment:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<tbody>
<tr class="row-odd"><td colspan="6"><p><a class="reference external" href="urn:jsonschema:com:strapdata:strapkop:model:k8s:datacenter:Reaper">urn:jsonschema:com:strapdata:strapkop:model:k8s:datacenter:Reaper</a></p></td>
</tr>
<tr class="row-even"><td colspan="6"><p>Cassandra reaper configuration</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="5"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="6"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>image</p></li>
</ul>
</td>
<td colspan="5"><p>reaper docker image</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="4"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>resources</p></li>
</ul>
</td>
<td colspan="5"><p>Resource requirements for reaper pod</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="4"><p><em>object</em></p></td>
</tr>
<tr class="row-odd"><td colspan="5"><p><span class="xref std std-ref">urn:jsonschema:io:kubernetes:client:openapi:models:V1ResourceRequirements</span></p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>podTemplate</p></li>
</ul>
</td>
<td colspan="5"><p>Reaper pods template allowing customisation</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="4"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="5"><p><span class="xref std std-ref">urn:jsonschema:io:kubernetes:client:openapi:models:V1PodTemplateSpec</span></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>jwtSecret</p></li>
</ul>
</td>
<td colspan="5"><p>Reaper JWT secret</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="4"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>enabled</p></li>
</ul>
</td>
<td colspan="5"><p>Reaper enabled</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="4"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>loggingLevel</p></li>
</ul>
</td>
<td colspan="5"><p>Reaper logging level</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="4"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>ingressSuffix</p></li>
</ul>
</td>
<td colspan="5"><p>Reaper ingress suffix</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="4"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>ingressAnnotations</p></li>
</ul>
</td>
<td colspan="5"><p>Reaper ingress annotations</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="4"><p><em>object</em></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td><p>type</p></td>
<td colspan="3"><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="21"><ul class="simple">
<li><p>scheduledRepairs</p></li>
</ul>
</td>
<td colspan="5"><p>Reaper scheduled repairs configuration</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="4"><p><em>array</em></p></td>
</tr>
<tr class="row-even"><td colspan="5"><p>items</p></td>
</tr>
<tr class="row-odd"><td rowspan="18"><ul class="simple">
<li></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>owner</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>keyspace</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>tables</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>array</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>items</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>blacklistedTables</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>array</em></p></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>items</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>segmentCount</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>integer</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>repairParallelism</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td><p>enum</p></td>
<td colspan="2"><p>SEQUENTIAL, PARALLEL, DATACENTER_AWARE</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>intensity</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>incrementalRepair</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>scheduleDaysBetween</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>integer</em></p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>scheduleTriggerTime</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>repairThreadCount</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>integer</em></p></td>
</tr>
</tbody>
</table>
<div class="section" id="address-translation">
<h3>Address translation<a class="headerlink" href="#address-translation" title="Permalink to this headline">¶</a></h3>
<p>When your Elassandra/Cassandra cluster use Kubernetes node’s public IP address (see ref:’Out-of-cluster Networking with Public IP addressing’),
application deployed in the same Kubernetes cluster using the Cassandra driver should use a
<a class="reference external" href="https://docs.datastax.com/en/developer/java-driver/3.7/manual/address_resolution/">Driver-side Address Translation</a> to connect to Elassandra/Cassandra nodes
using their internal IP.</p>
<p>This is the case of the deployed Cassandra Reaper instance which use Elassandra to store various data to manage continuous repairs,
and the Cassandra Reaper is automatically deployed with a <strong>KubernetesDnsAddressTranslator</strong> issuing a revers resolution of the Cassandra broadcats RPC
to retrieve the Kubernetes node’s name, and then use the buildt-in Kubernetes DNS resolver to get the internal kubernetes node IP address.</p>
<p>To achieve this behavior, you may need to deploy CoreDNS in your Kubernetes cluster, with the following configuration.</p>
</div>
</div>
<div class="section" id="kibana-visualisation">
<h2>Kibana visualisation<a class="headerlink" href="#kibana-visualisation" title="Permalink to this headline">¶</a></h2>
<p>In order to visualize your Elassandra data, or interact with Elasticsearch, the Elassandra-Operator can deploy
secured Kibana instances pointing to your Elassandra datacenter nodes.</p>
<p>When Elasticsearch HTTPS is enabled in your Elassandra datacenter, Kibana is automatically configured to connect
through HTTPS and trust the Elassandra datacenter root CA. Moreover, for each kibana space, the Elassandra-Operator
creates a dedicated Cassandra role and a dedicated managed keyspace storing the kibana configuration.
Thus, you can run separated kibana instances dedicated to specific usages or specific users.</p>
<p>Here is the datacenter spec to configure kibana deployment:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<tbody>
<tr class="row-odd"><td colspan="5"><p><a class="reference external" href="urn:jsonschema:com:strapdata:strapkop:model:k8s:datacenter:Elasticsearch">urn:jsonschema:com:strapdata:strapkop:model:k8s:datacenter:Elasticsearch</a></p></td>
</tr>
<tr class="row-even"><td colspan="5"><p>Elasticsearch configuration</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="4"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="5"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>enabled</p></li>
</ul>
</td>
<td colspan="4"><p>Enable Elasticsearch, default is true</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="3"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>httpPort</p></li>
</ul>
</td>
<td colspan="4"><p>Elasticsearch HTTP port, default is 9200</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="3"><p><em>integer</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>transportPort</p></li>
</ul>
</td>
<td colspan="4"><p>Elasticsearch transport port, default is 9300</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="3"><p><em>integer</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>loadBalancerEnabled</p></li>
</ul>
</td>
<td colspan="4"><p>Create a Load balancer service with external IP for Elasticsearch, default is false</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="3"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>loadBalancerIp</p></li>
</ul>
</td>
<td colspan="4"><p>Add a LoadBalancer exposing CQL and elasticsearch HTTP nodePorts</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="3"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>ingressEnabled</p></li>
</ul>
</td>
<td colspan="4"><p>Enable Elasticsearch service ingress</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="3"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>ingressAnnotations</p></li>
</ul>
</td>
<td colspan="4"><p>Elasticsearch ingress annotations</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>datacenterGroup</p></li>
</ul>
</td>
<td colspan="4"><p>Elassandra datacenter group</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="4"><ul class="simple">
<li><p>datacenterTags</p></li>
</ul>
</td>
<td colspan="4"><p>Elassandra datacenter tags</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>array</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>items</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="18"><ul class="simple">
<li><p>enterprise</p></li>
</ul>
</td>
<td colspan="4"><p>Elassandra enterprise configuration</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>enabled</p></li>
</ul>
</td>
<td colspan="3"><p>Enable Elassandra Enterprise</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>jmx</p></li>
</ul>
</td>
<td colspan="3"><p>Enable JMX for Elasticsearch metrics</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>https</p></li>
</ul>
</td>
<td colspan="3"><p>Enable HTTPS for Elasticsearch</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>ssl</p></li>
</ul>
</td>
<td colspan="3"><p>Enable TLS for Elasticsearch transport connections</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="5"><ul class="simple">
<li><p>aaa</p></li>
</ul>
</td>
<td colspan="3"><p>Enable Elasticsearch Authentication, Authorization and Accounting</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>enabled</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>audit</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>boolean</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>cbs</p></li>
</ul>
</td>
<td colspan="3"><p>Enable Elasticsearch Content-Based security</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
</tbody>
</table>
<p>You can adjust Kibana memory by adding the following podTemplate to set environment variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kibana</span><span class="p">:</span>
  <span class="n">spaces</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
    <span class="n">podTemplate</span><span class="p">:</span>
      <span class="n">spec</span><span class="p">:</span>
        <span class="n">containers</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">kibana</span>
          <span class="n">env</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">NODE_OPTIONS</span>
            <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;--max-old-space-size=4096&quot;</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="security.html" class="btn btn-neutral float-right" title="Security" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="provisioning.html" class="btn btn-neutral float-left" title="Provision a Datacenter" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Strapdata

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>